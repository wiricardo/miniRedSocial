<!DOCTYPE html>
<html>
    <head>
        <title>Primer Ejemplo React</title>
        <!-- Bootstrap -->
        <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.0.2/dist/css/bootstrap.min.css" rel="stylesheet">
        <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.0.2/dist/js/bootstrap.bundle.min.js"></script>

        <!-- React -->
        <script src="https://unpkg.com/react@17/umd/react.development.js"></script>
        <script src="https://unpkg.com/react-dom@17/umd/react-dom.development.js"></script>
        <script src="https://unpkg.com/babel-standalone@6/babel.min.js"></script>

        <style>
            .card-box {
                border: 1px solid lightgray;
                border-radius: 10px;
                padding: 20px;
                margin: 10px 0px;
                background-color: lightblue;
            }
            .counter {
                font-size: 22px;
                font-weight: bold;
                color: blue
            }
        </style>

    </head>
    <body class="container mt-5">
        <h2 class="text-center mb-4">Fundamentos de react</h2>
        <div id="app"></div>

        <script type="text/babel">
        
            function Contador()
            {
                const [contador, setContador] = React.useState(0);

                function aumentar()
                {
                    setContador(contador + 1);
                }

                function disminuir()
                {
                    setContador(contador - 1);
                }

                function reiniciar()
                {
                    setContador(0);
                }

                return (
                    <div className="text-center mt-3">
                        <p className="counter">{contador}</p>
                        <button className="btn btn-primary m-1" onClick={aumentar}>Incrementar</button>
                        <button className="btn btn-primary m-1" onClick={disminuir}>Disminuir</button>
                        <button className="btn btn-secondary m-1" onClick={reiniciar}>Reiniciar</button>
                    </div>    
                )
            }

            function TarjetaUsuario(props){
                return (
                    <div className="card-box">
                        <h5>{props.nombre}</h5>
                        <p className="text-muted">Edad : {props.edad} </p>
                    </div>
                )
            }

            function Directorio()
            {
                const [usuarios, setUsuarios] = React.useState([
                    {nombre: 'Alexander', edad: 24},
                    {nombre: 'Diego', edad: 24},
                    {nombre:'Javier', edad: 28}
                ])
                
                const [nuevoUsuario, setNuevoUsuario] = React.useState('')
                const [nuevaEdad, setNuevaEdad] = React.useState('')

                function agregarUsuario()
                {
                    if(nuevoUsuario.trim() !== '' && nuevaEdad.trim() !== '')
                    {
                        setUsuarios([...usuarios, {nombre: nuevoUsuario, edad: nuevaEdad}])
                        setNuevoUsuario('')
                        setNuevaEdad('')
                    }
                }

                return (
                    <div>
                        <h4>Lista de usuarios</h4>
                        {
                            usuarios.map((usr,i) => (
                                <TarjetaUsuario key={i} nombre={usr.nombre} edad={usr.edad} />
                            ))
                        }
                        
                        {/* Ingreso de datos */}
                        <div className="input-group mt-3">
                                <input
                                    type='text'
                                    className='form-control'
                                    placeholder='Nombre'
                                    value={nuevoUsuario}
                                    onChange={(e) => setNuevoUsuario(e.target.value)} 
                                />
                                <input
                                    type='number'
                                    className='form-control'
                                    placeholder='Edad'
                                    value={nuevaEdad}
                                    onChange={(e) => setNuevaEdad(e.target.value)} 
                                />
                                <button className="btn btn-success" onClick={agregarUsuario}>Agregar</button>
                        </div>
                        <h4 className="text-center mt-5">Ejemplo del contador</h4>
                        <Contador />
                    </div>
                )
            }


            ReactDOM.render(<Directorio />, document.querySelector("#app"));
        </script>
        
    </body>
</html>